var Zs=Object.defineProperty;var Xs=(h,T,z)=>T in h?Zs(h,T,{enumerable:!0,configurable:!0,writable:!0,value:z}):h[T]=z;var E=(h,T,z)=>Xs(h,typeof T!="symbol"?T+"":T,z);(function(h,T){typeof exports=="object"&&typeof module<"u"?T(require("vue")):typeof define=="function"&&define.amd?define(["vue"],T):(h=typeof globalThis<"u"?globalThis:h||self,T(h.Vue))})(this,function(h){"use strict";/*!
 * vue-global-events v3.0.1
 * (c) 2019-2023 Eduardo San Martin Morote, Damian Dulisz
 * Released under the MIT License.
 */let T;function z(){return T??(T=/msie|trident/.test(window.navigator.userAgent.toLowerCase()))}const Rt=/^on(\w+?)((?:Once|Capture|Passive)*)$/,Pt=/[OCP]/g;function jt(e){return e?z()?e.includes("Capture"):e.replace(Pt,",$&").toLowerCase().slice(1).split(",").reduce((r,n)=>(r[n]=!0,r),{}):void 0}const Dt=h.defineComponent({name:"GlobalEvents",props:{target:{type:String,default:"document"},filter:{type:[Function,Array],default:()=>()=>!0},stop:Boolean,prevent:Boolean},setup(e,{attrs:t}){let r=Object.create(null);const n=h.ref(!0);return h.onActivated(()=>{n.value=!0}),h.onDeactivated(()=>{n.value=!1}),h.onMounted(()=>{Object.keys(t).filter(o=>o.startsWith("on")).forEach(o=>{const a=t[o],s=Array.isArray(a)?a:[a],l=o.match(Rt);if(!l){__DEV__&&console.warn(`[vue-global-events] Unable to parse "${o}". If this should work, you should probably open a new issue on https://github.com/shentao/vue-global-events.`);return}let[,f,y]=l;f=f.toLowerCase();const _=s.map(g=>v=>{const A=Array.isArray(e.filter)?e.filter:[e.filter];n.value&&A.every(R=>R(v,g,f))&&(e.stop&&v.stopPropagation(),e.prevent&&v.preventDefault(),g(v))}),d=jt(y);_.forEach(g=>{window[e.target].addEventListener(f,g,d)}),r[o]=[_,f,d]})}),h.onBeforeUnmount(()=>{for(const o in r){const[a,s,l]=r[o];a.forEach(f=>{window[e.target].removeEventListener(s,f,l)})}r={}}),()=>null}});var J=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function de(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Lt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var oe=Lt,xt=typeof J=="object"&&J&&J.Object===Object&&J,Nt=xt,Mt=Nt,Ut=typeof self=="object"&&self&&self.Object===Object&&self,Ht=Mt||Ut||Function("return this")(),ee=Ht,qt=ee,Bt=function(){return qt.Date.now()},Gt=Bt,kt=/\s/;function zt(e){for(var t=e.length;t--&&kt.test(e.charAt(t)););return t}var Jt=zt,Kt=Jt,Yt=/^\s+/;function Qt(e){return e&&e.slice(0,Kt(e)+1).replace(Yt,"")}var Wt=Qt,Vt=ee,Zt=Vt.Symbol,ye=Zt,Ne=ye,Me=Object.prototype,Xt=Me.hasOwnProperty,er=Me.toString,te=Ne?Ne.toStringTag:void 0;function tr(e){var t=Xt.call(e,te),r=e[te];try{e[te]=void 0;var n=!0}catch{}var o=er.call(e);return n&&(t?e[te]=r:delete e[te]),o}var rr=tr,nr=Object.prototype,or=nr.toString;function ir(e){return or.call(e)}var ar=ir,Ue=ye,sr=rr,ur=ar,lr="[object Null]",cr="[object Undefined]",He=Ue?Ue.toStringTag:void 0;function fr(e){return e==null?e===void 0?cr:lr:He&&He in Object(e)?sr(e):ur(e)}var _e=fr;function hr(e){return e!=null&&typeof e=="object"}var ie=hr,pr=_e,dr=ie,yr="[object Symbol]";function _r(e){return typeof e=="symbol"||dr(e)&&pr(e)==yr}var vr=_r,gr=Wt,qe=oe,mr=vr,Be=NaN,wr=/^[-+]0x[0-9a-f]+$/i,br=/^0b[01]+$/i,Or=/^0o[0-7]+$/i,Sr=parseInt;function Ar(e){if(typeof e=="number")return e;if(mr(e))return Be;if(qe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=qe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=gr(e);var r=br.test(e);return r||Or.test(e)?Sr(e.slice(2),r?2:8):wr.test(e)?Be:+e}var $r=Ar,Er=oe,ve=Gt,Ge=$r,Tr="Expected a function",Ir=Math.max,Fr=Math.min;function Cr(e,t,r){var n,o,a,s,l,f,y=0,_=!1,d=!1,g=!0;if(typeof e!="function")throw new TypeError(Tr);t=Ge(t)||0,Er(r)&&(_=!!r.leading,d="maxWait"in r,a=d?Ir(Ge(r.maxWait)||0,t):a,g="trailing"in r?!!r.trailing:g);function v(b){var I=n,j=o;return n=o=void 0,y=b,s=e.apply(j,I),s}function A(b){return y=b,l=setTimeout(Z,t),_?v(b):s}function R(b){var I=b-f,j=b-y,ne=t-I;return d?Fr(ne,a-j):ne}function V(b){var I=b-f,j=b-y;return f===void 0||I>=t||I<0||d&&j>=a}function Z(){var b=ve();if(V(b))return X(b);l=setTimeout(Z,R(b))}function X(b){return l=void 0,g&&n?v(b):(n=o=void 0,s)}function B(){l!==void 0&&clearTimeout(l),y=0,n=f=o=l=void 0}function De(){return l===void 0?s:X(ve())}function G(){var b=ve(),I=V(b);if(n=arguments,o=this,f=b,I){if(l===void 0)return A(f);if(d)return clearTimeout(l),l=setTimeout(Z,t),v(f)}return l===void 0&&(l=setTimeout(Z,t)),s}return G.cancel=B,G.flush=De,G}var Rr=Cr;const ke=de(Rr),Pr=h.defineComponent({__name:"go-plaid-scope",props:{init:{},formInit:{},useDebounce:{},observers:{}},emits:["change-debounced"],setup(e,{emit:t}){const r=e,n=t;let o=r.init;Array.isArray(o)&&(o=Object.assign({},...o));const a=h.reactive({...o});let s=r.formInit;Array.isArray(s)&&(s=Object.assign({},...s));const l=h.reactive({...s}),f=h.inject("vars"),y=h.inject("plaid");function _(){!r.observers||r.observers.length==0||h.watch(()=>f==null?void 0:f.__notification,d=>{var g;d&&((g=r.observers)==null||g.forEach(v=>{if((d==null?void 0:d.name)===v.name){let A;try{A=typeof d.payload=="string"?JSON.parse(d.payload):d.payload}catch{A=d.payload}try{new Function("name","payload","vars","locals","form","plaid",v.script)(v.name,A,f,a,l,y)}catch(R){console.error("Error executing observer script:",R)}}}))})}return h.onMounted(()=>{setTimeout(()=>{if(r.useDebounce){const d=r.useDebounce,g=ke(v=>{n("change-debounced",v)},d);console.log("watched"),h.watch(a,(v,A)=>{g({locals:v,form:l,oldLocals:A,oldForm:l})}),h.watch(l,(v,A)=>{g({locals:a,form:v,oldLocals:a,oldForm:A})})}},0),_()}),(d,g)=>h.renderSlot(d.$slots,"default",{locals:a,form:l,plaid:h.unref(y),vars:h.unref(f)})}});/*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> */(function(){var e;function t(i){var u=0;return function(){return u<i.length?{done:!1,value:i[u++]}:{done:!0}}}var r=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,u,c){return i==Array.prototype||i==Object.prototype||(i[u]=c.value),i};function n(i){i=[typeof globalThis=="object"&&globalThis,i,typeof window=="object"&&window,typeof self=="object"&&self,typeof J=="object"&&J];for(var u=0;u<i.length;++u){var c=i[u];if(c&&c.Math==Math)return c}throw Error("Cannot find global object")}var o=n(this);function a(i,u){if(u)e:{var c=o;i=i.split(".");for(var p=0;p<i.length-1;p++){var m=i[p];if(!(m in c))break e;c=c[m]}i=i[i.length-1],p=c[i],u=u(p),u!=p&&u!=null&&r(c,i,{configurable:!0,writable:!0,value:u})}}a("Symbol",function(i){function u(S){if(this instanceof u)throw new TypeError("Symbol is not a constructor");return new c(p+(S||"")+"_"+m++,S)}function c(S,C){this.A=S,r(this,"description",{configurable:!0,writable:!0,value:C})}if(i)return i;c.prototype.toString=function(){return this.A};var p="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",m=0;return u}),a("Symbol.iterator",function(i){if(i)return i;i=Symbol("Symbol.iterator");for(var u="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<u.length;c++){var p=o[u[c]];typeof p=="function"&&typeof p.prototype[i]!="function"&&r(p.prototype,i,{configurable:!0,writable:!0,value:function(){return s(t(this))}})}return i});function s(i){return i={next:i},i[Symbol.iterator]=function(){return this},i}function l(i){var u=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return u?u.call(i):{next:t(i)}}var f;if(typeof Object.setPrototypeOf=="function")f=Object.setPrototypeOf;else{var y;e:{var _={a:!0},d={};try{d.__proto__=_,y=d.a;break e}catch{}y=!1}f=y?function(i,u){if(i.__proto__=u,i.__proto__!==u)throw new TypeError(i+" is not extensible");return i}:null}var g=f;function v(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function A(i){if(i.m)throw new TypeError("Generator is already running");i.m=!0}v.prototype.o=function(i){this.v=i},v.prototype.s=function(i){this.l={D:i,F:!0},this.h=this.C||this.u},v.prototype.return=function(i){this.l={return:i},this.h=this.u};function R(i,u){return i.h=3,{value:u}}function V(i){this.g=new v,this.G=i}V.prototype.o=function(i){return A(this.g),this.g.j?X(this,this.g.j.next,i,this.g.o):(this.g.o(i),B(this))};function Z(i,u){A(i.g);var c=i.g.j;return c?X(i,"return"in c?c.return:function(p){return{value:p,done:!0}},u,i.g.return):(i.g.return(u),B(i))}V.prototype.s=function(i){return A(this.g),this.g.j?X(this,this.g.j.throw,i,this.g.o):(this.g.s(i),B(this))};function X(i,u,c,p){try{var m=u.call(i.g.j,c);if(!(m instanceof Object))throw new TypeError("Iterator result "+m+" is not an object");if(!m.done)return i.g.m=!1,m;var S=m.value}catch(C){return i.g.j=null,i.g.s(C),B(i)}return i.g.j=null,p.call(i.g,S),B(i)}function B(i){for(;i.g.h;)try{var u=i.G(i.g);if(u)return i.g.m=!1,{value:u.value,done:!1}}catch(c){i.g.v=void 0,i.g.s(c)}if(i.g.m=!1,i.g.l){if(u=i.g.l,i.g.l=null,u.F)throw u.D;return{value:u.return,done:!0}}return{value:void 0,done:!0}}function De(i){this.next=function(u){return i.o(u)},this.throw=function(u){return i.s(u)},this.return=function(u){return Z(i,u)},this[Symbol.iterator]=function(){return this}}function G(i,u){return u=new De(new V(u)),g&&i.prototype&&g(u,i.prototype),u}function b(i,u){i instanceof String&&(i+="");var c=0,p=!1,m={next:function(){if(!p&&c<i.length){var S=c++;return{value:u(S,i[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return m[Symbol.iterator]=function(){return m},m}if(a("Array.prototype.entries",function(i){return i||function(){return b(this,function(u,c){return[u,c]})}}),typeof Blob<"u"&&(typeof FormData>"u"||!FormData.prototype.keys)){var I=function(i,u){for(var c=0;c<i.length;c++)u(i[c])},j=function(i){return i.replace(/\r?\n|\r/g,`\r
`)},ne=function(i,u,c){return u instanceof Blob?(c=c!==void 0?c+"":typeof u.name=="string"?u.name:"blob",(u.name!==c||Object.prototype.toString.call(u)==="[object Blob]")&&(u=new File([u],c)),[String(i),u]):[String(i),String(u)]},k=function(i,u){if(i.length<u)throw new TypeError(u+" argument required, but only "+i.length+" present.")},$=typeof globalThis=="object"?globalThis:typeof window=="object"?window:typeof self=="object"?self:this,Ws=$.FormData,Le=$.XMLHttpRequest&&$.XMLHttpRequest.prototype.send,Ft=$.Request&&$.fetch,Ct=$.navigator&&$.navigator.sendBeacon,N=$.Element&&$.Element.prototype,x=$.Symbol&&Symbol.toStringTag;x&&(Blob.prototype[x]||(Blob.prototype[x]="Blob"),"File"in $&&!File.prototype[x]&&(File.prototype[x]="File"));try{new File([],"")}catch{$.File=function(u,c,p){return u=new Blob(u,p||{}),Object.defineProperties(u,{name:{value:c},lastModified:{value:+(p&&p.lastModified!==void 0?new Date(p.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),x&&Object.defineProperty(u,x,{value:"File"}),u}}var xe=function(i){return i.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},D=function(i){this.i=[];var u=this;i&&I(i.elements,function(c){if(c.name&&!c.disabled&&c.type!=="submit"&&c.type!=="button"&&!c.matches("form fieldset[disabled] *"))if(c.type==="file"){var p=c.files&&c.files.length?c.files:[new File([],"",{type:"application/octet-stream"})];I(p,function(m){u.append(c.name,m)})}else c.type==="select-multiple"||c.type==="select-one"?I(c.options,function(m){!m.disabled&&m.selected&&u.append(c.name,m.value)}):c.type==="checkbox"||c.type==="radio"?c.checked&&u.append(c.name,c.value):(p=c.type==="textarea"?j(c.value):c.value,u.append(c.name,p))})};if(e=D.prototype,e.append=function(i,u,c){k(arguments,2),this.i.push(ne(i,u,c))},e.delete=function(i){k(arguments,1);var u=[];i=String(i),I(this.i,function(c){c[0]!==i&&u.push(c)}),this.i=u},e.entries=function i(){var u,c=this;return G(i,function(p){if(p.h==1&&(u=0),p.h!=3)return u<c.i.length?p=R(p,c.i[u]):(p.h=0,p=void 0),p;u++,p.h=2})},e.forEach=function(i,u){k(arguments,1);for(var c=l(this),p=c.next();!p.done;p=c.next()){var m=l(p.value);p=m.next().value,m=m.next().value,i.call(u,m,p,this)}},e.get=function(i){k(arguments,1);var u=this.i;i=String(i);for(var c=0;c<u.length;c++)if(u[c][0]===i)return u[c][1];return null},e.getAll=function(i){k(arguments,1);var u=[];return i=String(i),I(this.i,function(c){c[0]===i&&u.push(c[1])}),u},e.has=function(i){k(arguments,1),i=String(i);for(var u=0;u<this.i.length;u++)if(this.i[u][0]===i)return!0;return!1},e.keys=function i(){var u=this,c,p,m,S,C;return G(i,function(P){if(P.h==1&&(c=l(u),p=c.next()),P.h!=3){if(p.done){P.h=0;return}return m=p.value,S=l(m),C=S.next().value,R(P,C)}p=c.next(),P.h=2})},e.set=function(i,u,c){k(arguments,2),i=String(i);var p=[],m=ne(i,u,c),S=!0;I(this.i,function(C){C[0]===i?S&&(S=!p.push(m)):p.push(C)}),S&&p.push(m),this.i=p},e.values=function i(){var u=this,c,p,m,S,C;return G(i,function(P){if(P.h==1&&(c=l(u),p=c.next()),P.h!=3){if(p.done){P.h=0;return}return m=p.value,S=l(m),S.next(),C=S.next().value,R(P,C)}p=c.next(),P.h=2})},D.prototype._asNative=function(){for(var i=new Ws,u=l(this),c=u.next();!c.done;c=u.next()){var p=l(c.value);c=p.next().value,p=p.next().value,i.append(c,p)}return i},D.prototype._blob=function(){var i="----formdata-polyfill-"+Math.random(),u=[],c="--"+i+`\r
Content-Disposition: form-data; name="`;return this.forEach(function(p,m){return typeof p=="string"?u.push(c+xe(j(m))+(`"\r
\r
`+j(p)+`\r
`)):u.push(c+xe(j(m))+('"; filename="'+xe(p.name)+`"\r
Content-Type: `+(p.type||"application/octet-stream")+`\r
\r
`),p,`\r
`)}),u.push("--"+i+"--"),new Blob(u,{type:"multipart/form-data; boundary="+i})},D.prototype[Symbol.iterator]=function(){return this.entries()},D.prototype.toString=function(){return"[object FormData]"},N&&!N.matches&&(N.matches=N.matchesSelector||N.mozMatchesSelector||N.msMatchesSelector||N.oMatchesSelector||N.webkitMatchesSelector||function(i){i=(this.document||this.ownerDocument).querySelectorAll(i);for(var u=i.length;0<=--u&&i.item(u)!==this;);return-1<u}),x&&(D.prototype[x]="FormData"),Le){var Vs=$.XMLHttpRequest.prototype.setRequestHeader;$.XMLHttpRequest.prototype.setRequestHeader=function(i,u){Vs.call(this,i,u),i.toLowerCase()==="content-type"&&(this.B=!0)},$.XMLHttpRequest.prototype.send=function(i){i instanceof D?(i=i._blob(),this.B||this.setRequestHeader("Content-Type",i.type),Le.call(this,i)):Le.call(this,i)}}Ft&&($.fetch=function(i,u){return u&&u.body&&u.body instanceof D&&(u.body=u.body._blob()),Ft.call(this,i,u)}),Ct&&($.navigator.sendBeacon=function(i,u){return u instanceof D&&(u=u._asNative()),Ct.call(this,i,u)}),$.FormData=D}})();const ze="%[a-f0-9]{2}",Je=new RegExp("("+ze+")|([^%]+?)","gi"),Ke=new RegExp("("+ze+")+","gi");function ge(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;const r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],ge(r),ge(n))}function jr(e){try{return decodeURIComponent(e)}catch{let t=e.match(Je)||[];for(let r=1;r<t.length;r++)e=ge(t,r).join(""),t=e.match(Je)||[];return e}}function Dr(e){const t={"%FE%FF":"��","%FF%FE":"��"};let r=Ke.exec(e);for(;r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{const o=jr(r[0]);o!==r[0]&&(t[r[0]]=o)}r=Ke.exec(e)}t["%C2"]="�";const n=Object.keys(t);for(const o of n)e=e.replace(new RegExp(o,"g"),t[o]);return e}function Lr(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return Dr(e)}}function Ye(e,t){if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||t==="")return[];const r=e.indexOf(t);return r===-1?[]:[e.slice(0,r),e.slice(r+t.length)]}function xr(e,t){const r={};if(Array.isArray(t))for(const n of t){const o=Object.getOwnPropertyDescriptor(e,n);o!=null&&o.enumerable&&Object.defineProperty(r,n,o)}else for(const n of Reflect.ownKeys(e)){const o=Object.getOwnPropertyDescriptor(e,n);if(o.enumerable){const a=e[n];t(n,a,e)&&Object.defineProperty(r,n,o)}}return r}const Nr=e=>e==null,Mr=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),me=Symbol("encodeFragmentIdentifier");function Ur(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const o=r.length;return n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[O(t,e),"[",o,"]"].join("")]:[...r,[O(t,e),"[",O(o,e),"]=",O(n,e)].join("")]};case"bracket":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[O(t,e),"[]"].join("")]:[...r,[O(t,e),"[]=",O(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[O(t,e),":list="].join("")]:[...r,[O(t,e),":list=",O(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t=e.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,o)=>o===void 0||e.skipNull&&o===null||e.skipEmptyString&&o===""?n:(o=o===null?"":o,n.length===0?[[O(r,e),t,O(o,e)].join("")]:[[n,O(o,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,O(t,e)]:[...r,[O(t,e),"=",O(n,e)].join("")]}}function Hr(e){let t;switch(e.arrayFormat){case"index":return(r,n,o)=>{if(t=/\[(\d*)]$/.exec(r),r=r.replace(/\[\d*]$/,""),!t){o[r]=n;return}o[r]===void 0&&(o[r]={}),o[r][t[1]]=n};case"bracket":return(r,n,o)=>{if(t=/(\[])$/.exec(r),r=r.replace(/\[]$/,""),!t){o[r]=n;return}if(o[r]===void 0){o[r]=[n];return}o[r]=[...o[r],n]};case"colon-list-separator":return(r,n,o)=>{if(t=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!t){o[r]=n;return}if(o[r]===void 0){o[r]=[n];return}o[r]=[...o[r],n]};case"comma":case"separator":return(r,n,o)=>{const a=typeof n=="string"&&n.includes(e.arrayFormatSeparator),s=typeof n=="string"&&!a&&L(n,e).includes(e.arrayFormatSeparator);n=s?L(n,e):n;const l=a||s?n.split(e.arrayFormatSeparator).map(f=>L(f,e)):n===null?n:L(n,e);o[r]=l};case"bracket-separator":return(r,n,o)=>{const a=/(\[])$/.test(r);if(r=r.replace(/\[]$/,""),!a){o[r]=n&&L(n,e);return}const s=n===null?[]:n.split(e.arrayFormatSeparator).map(l=>L(l,e));if(o[r]===void 0){o[r]=s;return}o[r]=[...o[r],...s]};default:return(r,n,o)=>{if(o[r]===void 0){o[r]=n;return}o[r]=[...[o[r]].flat(),n]}}}function Qe(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function O(e,t){return t.encode?t.strict?Mr(e):encodeURIComponent(e):e}function L(e,t){return t.decode?Lr(e):e}function We(e){return Array.isArray(e)?e.sort():typeof e=="object"?We(Object.keys(e)).sort((t,r)=>Number(t)-Number(r)).map(t=>e[t]):e}function Ve(e){const t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function qr(e){let t="";const r=e.indexOf("#");return r!==-1&&(t=e.slice(r)),t}function Ze(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function we(e){e=Ve(e);const t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function be(e,t){t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...t},Qe(t.arrayFormatSeparator);const r=Hr(t),n=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return n;for(const o of e.split("&")){if(o==="")continue;const a=t.decode?o.replaceAll("+"," "):o;let[s,l]=Ye(a,"=");s===void 0&&(s=a),l=l===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?l:L(l,t),r(L(s,t),l,n)}for(const[o,a]of Object.entries(n))if(typeof a=="object"&&a!==null)for(const[s,l]of Object.entries(a))a[s]=Ze(l,t);else n[o]=Ze(a,t);return t.sort===!1?n:(t.sort===!0?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((o,a)=>{const s=n[a];return o[a]=s&&typeof s=="object"&&!Array.isArray(s)?We(s):s,o},Object.create(null))}function Xe(e,t){if(!e)return"";t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t},Qe(t.arrayFormatSeparator);const r=s=>t.skipNull&&Nr(e[s])||t.skipEmptyString&&e[s]==="",n=Ur(t),o={};for(const[s,l]of Object.entries(e))r(s)||(o[s]=l);const a=Object.keys(o);return t.sort!==!1&&a.sort(t.sort),a.map(s=>{const l=e[s];return l===void 0?"":l===null?O(s,t):Array.isArray(l)?l.length===0&&t.arrayFormat==="bracket-separator"?O(s,t)+"[]":l.reduce(n(s),[]).join("&"):O(s,t)+"="+O(l,t)}).filter(s=>s.length>0).join("&")}function et(e,t){var o;t={decode:!0,...t};let[r,n]=Ye(e,"#");return r===void 0&&(r=e),{url:((o=r==null?void 0:r.split("?"))==null?void 0:o[0])??"",query:be(we(e),t),...t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:L(n,t)}:{}}}function tt(e,t){t={encode:!0,strict:!0,[me]:!0,...t};const r=Ve(e.url).split("?")[0]||"",n=we(e.url),o={...be(n,{sort:!1}),...e.query};let a=Xe(o,t);a&&(a=`?${a}`);let s=qr(e.url);if(typeof e.fragmentIdentifier=="string"){const l=new URL(r);l.hash=e.fragmentIdentifier,s=t[me]?l.hash:`#${e.fragmentIdentifier}`}return`${r}${a}${s}`}function rt(e,t,r){r={parseFragmentIdentifier:!0,[me]:!1,...r};const{url:n,query:o,fragmentIdentifier:a}=et(e,r);return tt({url:n,query:xr(o,t),fragmentIdentifier:a},r)}function Br(e,t,r){const n=Array.isArray(t)?o=>!t.includes(o):(o,a)=>!t(o,a);return rt(e,n,r)}const M=Object.freeze(Object.defineProperty({__proto__:null,exclude:Br,extract:we,parse:be,parseUrl:et,pick:rt,stringify:Xe,stringifyUrl:tt},Symbol.toStringTag,{value:"Module"}));function Gr(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}var kr=Gr,zr=_e,Jr=ie,Kr="[object Arguments]";function Yr(e){return Jr(e)&&zr(e)==Kr}var Qr=Yr,nt=Qr,Wr=ie,ot=Object.prototype,Vr=ot.hasOwnProperty,Zr=ot.propertyIsEnumerable,Xr=nt(function(){return arguments}())?nt:function(e){return Wr(e)&&Vr.call(e,"callee")&&!Zr.call(e,"callee")},en=Xr,tn=Array.isArray,rn=tn,it=ye,nn=en,on=rn,at=it?it.isConcatSpreadable:void 0;function an(e){return on(e)||nn(e)||!!(at&&e&&e[at])}var sn=an,un=kr,ln=sn;function st(e,t,r,n,o){var a=-1,s=e.length;for(r||(r=ln),o||(o=[]);++a<s;){var l=e[a];t>0&&r(l)?t>1?st(l,t-1,r,n,o):un(o,l):n||(o[o.length]=l)}return o}var cn=st;function fn(e){return e}var ut=fn;function hn(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var pn=hn,dn=pn,lt=Math.max;function yn(e,t,r){return t=lt(t===void 0?e.length-1:t,0),function(){for(var n=arguments,o=-1,a=lt(n.length-t,0),s=Array(a);++o<a;)s[o]=n[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=n[o];return l[t]=r(s),dn(e,this,l)}}var _n=yn;function vn(e){return function(){return e}}var gn=vn,mn=_e,wn=oe,bn="[object AsyncFunction]",On="[object Function]",Sn="[object GeneratorFunction]",An="[object Proxy]";function $n(e){if(!wn(e))return!1;var t=mn(e);return t==On||t==Sn||t==bn||t==An}var ct=$n,En=ee,Tn=En["__core-js_shared__"],In=Tn,Oe=In,ft=function(){var e=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Fn(e){return!!ft&&ft in e}var Cn=Fn,Rn=Function.prototype,Pn=Rn.toString;function jn(e){if(e!=null){try{return Pn.call(e)}catch{}try{return e+""}catch{}}return""}var Dn=jn,Ln=ct,xn=Cn,Nn=oe,Mn=Dn,Un=/[\\^$.*+?()[\]{}|]/g,Hn=/^\[object .+?Constructor\]$/,qn=Function.prototype,Bn=Object.prototype,Gn=qn.toString,kn=Bn.hasOwnProperty,zn=RegExp("^"+Gn.call(kn).replace(Un,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Jn(e){if(!Nn(e)||xn(e))return!1;var t=Ln(e)?zn:Hn;return t.test(Mn(e))}var Kn=Jn;function Yn(e,t){return e==null?void 0:e[t]}var Qn=Yn,Wn=Kn,Vn=Qn;function Zn(e,t){var r=Vn(e,t);return Wn(r)?r:void 0}var ae=Zn,Xn=ae,eo=function(){try{var e=Xn(Object,"defineProperty");return e({},"",{}),e}catch{}}(),to=eo,ro=gn,ht=to,no=ut,oo=ht?function(e,t){return ht(e,"toString",{configurable:!0,enumerable:!1,value:ro(t),writable:!0})}:no,io=oo,ao=800,so=16,uo=Date.now;function lo(e){var t=0,r=0;return function(){var n=uo(),o=so-(n-r);if(r=n,o>0){if(++t>=ao)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var co=lo,fo=io,ho=co,po=ho(fo),yo=po,_o=ut,vo=_n,go=yo;function mo(e,t){return go(vo(e,t,_o),e+"")}var pt=mo,wo=ae,bo=wo(Object,"create"),se=bo,dt=se;function Oo(){this.__data__=dt?dt(null):{},this.size=0}var So=Oo;function Ao(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var $o=Ao,Eo=se,To="__lodash_hash_undefined__",Io=Object.prototype,Fo=Io.hasOwnProperty;function Co(e){var t=this.__data__;if(Eo){var r=t[e];return r===To?void 0:r}return Fo.call(t,e)?t[e]:void 0}var Ro=Co,Po=se,jo=Object.prototype,Do=jo.hasOwnProperty;function Lo(e){var t=this.__data__;return Po?t[e]!==void 0:Do.call(t,e)}var xo=Lo,No=se,Mo="__lodash_hash_undefined__";function Uo(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=No&&t===void 0?Mo:t,this}var Ho=Uo,qo=So,Bo=$o,Go=Ro,ko=xo,zo=Ho;function K(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}K.prototype.clear=qo,K.prototype.delete=Bo,K.prototype.get=Go,K.prototype.has=ko,K.prototype.set=zo;var Jo=K;function Ko(){this.__data__=[],this.size=0}var Yo=Ko;function Qo(e,t){return e===t||e!==e&&t!==t}var Wo=Qo,Vo=Wo;function Zo(e,t){for(var r=e.length;r--;)if(Vo(e[r][0],t))return r;return-1}var ue=Zo,Xo=ue,ei=Array.prototype,ti=ei.splice;function ri(e){var t=this.__data__,r=Xo(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ti.call(t,r,1),--this.size,!0}var ni=ri,oi=ue;function ii(e){var t=this.__data__,r=oi(t,e);return r<0?void 0:t[r][1]}var ai=ii,si=ue;function ui(e){return si(this.__data__,e)>-1}var li=ui,ci=ue;function fi(e,t){var r=this.__data__,n=ci(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var hi=fi,pi=Yo,di=ni,yi=ai,_i=li,vi=hi;function Y(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Y.prototype.clear=pi,Y.prototype.delete=di,Y.prototype.get=yi,Y.prototype.has=_i,Y.prototype.set=vi;var gi=Y,mi=ae,wi=ee,bi=mi(wi,"Map"),Oi=bi,yt=Jo,Si=gi,Ai=Oi;function $i(){this.size=0,this.__data__={hash:new yt,map:new(Ai||Si),string:new yt}}var Ei=$i;function Ti(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Ii=Ti,Fi=Ii;function Ci(e,t){var r=e.__data__;return Fi(t)?r[typeof t=="string"?"string":"hash"]:r.map}var le=Ci,Ri=le;function Pi(e){var t=Ri(this,e).delete(e);return this.size-=t?1:0,t}var ji=Pi,Di=le;function Li(e){return Di(this,e).get(e)}var xi=Li,Ni=le;function Mi(e){return Ni(this,e).has(e)}var Ui=Mi,Hi=le;function qi(e,t){var r=Hi(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Bi=qi,Gi=Ei,ki=ji,zi=xi,Ji=Ui,Ki=Bi;function Q(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Q.prototype.clear=Gi,Q.prototype.delete=ki,Q.prototype.get=zi,Q.prototype.has=Ji,Q.prototype.set=Ki;var Yi=Q,Qi="__lodash_hash_undefined__";function Wi(e){return this.__data__.set(e,Qi),this}var Vi=Wi;function Zi(e){return this.__data__.has(e)}var Xi=Zi,ea=Yi,ta=Vi,ra=Xi;function ce(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new ea;++t<r;)this.add(e[t])}ce.prototype.add=ce.prototype.push=ta,ce.prototype.has=ra;var _t=ce;function na(e,t,r,n){for(var o=e.length,a=r+(n?1:-1);n?a--:++a<o;)if(t(e[a],a,e))return a;return-1}var oa=na;function ia(e){return e!==e}var aa=ia;function sa(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}var ua=sa,la=oa,ca=aa,fa=ua;function ha(e,t,r){return t===t?fa(e,t,r):la(e,ca,r)}var pa=ha,da=pa;function ya(e,t){var r=e==null?0:e.length;return!!r&&da(e,t,0)>-1}var vt=ya;function _a(e,t,r){for(var n=-1,o=e==null?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}var gt=_a;function va(e,t){return e.has(t)}var mt=va,ga=ae,ma=ee,wa=ga(ma,"Set"),ba=wa;function Oa(){}var Sa=Oa;function Aa(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var wt=Aa,Se=ba,$a=Sa,Ea=wt,Ta=1/0,Ia=Se&&1/Ea(new Se([,-0]))[1]==Ta?function(e){return new Se(e)}:$a,Fa=Ia,Ca=_t,Ra=vt,Pa=gt,ja=mt,Da=Fa,La=wt,xa=200;function Na(e,t,r){var n=-1,o=Ra,a=e.length,s=!0,l=[],f=l;if(r)s=!1,o=Pa;else if(a>=xa){var y=t?null:Da(e);if(y)return La(y);s=!1,o=ja,f=new Ca}else f=t?[]:l;e:for(;++n<a;){var _=e[n],d=t?t(_):_;if(_=r||_!==0?_:0,s&&d===d){for(var g=f.length;g--;)if(f[g]===d)continue e;t&&f.push(d),l.push(_)}else o(f,d,r)||(f!==l&&f.push(d),l.push(_))}return l}var Ma=Na,Ua=9007199254740991;function Ha(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ua}var qa=Ha,Ba=ct,Ga=qa;function ka(e){return e!=null&&Ga(e.length)&&!Ba(e)}var za=ka,Ja=za,Ka=ie;function Ya(e){return Ka(e)&&Ja(e)}var bt=Ya,Qa=cn,Wa=pt,Va=Ma,Za=bt,Xa=Wa(function(e){return Va(Qa(e,1,Za,!0))}),es=Xa;const ts=de(es);function rs(e,t){for(var r=-1,n=e==null?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}var ns=rs;function os(e){return function(t){return e(t)}}var is=os,as=_t,ss=vt,us=gt,ls=ns,cs=is,fs=mt,hs=200;function ps(e,t,r,n){var o=-1,a=ss,s=!0,l=e.length,f=[],y=t.length;if(!l)return f;r&&(t=ls(t,cs(r))),n?(a=us,s=!1):t.length>=hs&&(a=fs,s=!1,t=new as(t));e:for(;++o<l;){var _=e[o],d=r==null?_:r(_);if(_=n||_!==0?_:0,s&&d===d){for(var g=y;g--;)if(t[g]===d)continue e;f.push(_)}else a(t,d,n)||f.push(_)}return f}var ds=ps,ys=ds,_s=pt,vs=bt,gs=_s(function(e,t){return vs(e)?ys(e,t):[]}),ms=gs;const ws=de(ms);function bs(e,t){const r=e.location,n=M.parseUrl((r==null?void 0:r.url)||t,{arrayFormat:"comma",parseFragmentIdentifier:!0}),o={};let a;if(r){if(r.stringQuery){const d=M.parse(r.stringQuery,{arrayFormat:"comma"});r.query={...d,...r.query}}if(r.mergeQuery){const d=r.clearMergeQueryKeys||[];for(const[g,v]of Object.entries(n.query))d.indexOf(g.split(".")[0])<0&&(o[g]=v);r.query||(r.query={})}a=r.query}const s=a||n.query;let l="";for(const[d,g]of Object.entries(s))Array.isArray(g)?o[d]=g:typeof g=="object"?Os(o,d,g):o[d]=g;const f={...o,__execute_event__:e.id};l=M.stringify(o,{arrayFormat:"comma"}),l.length>0&&(l=`?${l}`);let y=n.url+l;return n.fragmentIdentifier&&(y=y+"#"+n.fragmentIdentifier),{pushStateArgs:[{query:o,url:y},"",y],eventURL:`${n.url}?${M.stringify(f,{arrayFormat:"comma"})}`}}function Os(e,t,r){if(!r.value)return;let n=r.value;Array.isArray(r.value)||(n=[r.value]);let o=e[t];if(o&&!Array.isArray(o)&&(o=[o]),r.add){e[t]=ts(o,n);return}if(r.remove){const a=ws(o,...n);a.length===0?delete e[t]:e[t]=a}}function fe(e,t,r){if(!t||t.length===0)return!1;if(r instanceof Event)return fe(e,t,r.target);if(r instanceof HTMLInputElement){if(r.files)return fe(e,t,r.files);switch(r.type){case"checkbox":return r.checked?U(e,t,r.value):e.has(t)?(e.delete(t),!0):!1;case"radio":return r.checked?U(e,t,r.value):!1;default:return U(e,t,r.value)}}if(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)return U(e,t,r.value);if(r==null)return U(e,t,"");let n=!1;if(e.has(t)&&(n=!0,e.delete(t)),Array.isArray(r)||r instanceof FileList){for(let o=0;o<r.length;o++)r[o]instanceof File?(n=!0,e.append(t,r[o],r[o].name)):(n=!0,e.append(t,r[o]));return n}return r instanceof File?(e.set(t,r,r.name),!0):U(e,t,r)}function U(e,t,r){return e.get(t)===r?!1:(e.set(t,r),!0)}function Ae(e,t,r={},n=h.ref()){return h.defineComponent({setup(){return{plaid:h.inject("plaid"),vars:h.inject("vars"),isFetching:h.inject("isFetching"),updateRootTemplate:h.inject("updateRootTemplate"),form:t,locals:r}},mounted(){this.$nextTick(()=>{this.$el&&this.$el.style&&this.$el.style.height&&(n.value.style.height=this.$el.style.height)})},template:e})}function Ot(e,t,r=""){if(e==null)return;const n=Array.isArray(e);if(n&&e.length>0&&(e[0]instanceof File||e[0]instanceof Blob||typeof e[0]=="string")){fe(t,r,e);return}return Object.keys(e).forEach(o=>{const a=e[o],s=r?n?`${r}[${o}]`:`${r}.${o}`:o;typeof a=="object"&&!(a instanceof File)&&!(a instanceof Date)?Ot(a,t,s):fe(t,s,a)}),t}function Ss(e,t){const r=a=>Object.keys(a).sort().map(s=>`${encodeURIComponent(a[s])}`).join("|"),n=a=>a.map(s=>typeof s=="object"&&!Array.isArray(s)?r(s):encodeURIComponent(s)).join(","),o=[];return t.forEach(a=>{const s=e[a.json_name];if(s===void 0)return;const l=encodeURIComponent(a.name);Array.isArray(s)?o.push(`${l}=${n(e[a.json_name])}`):typeof s=="object"?o.push(`${l}=${r(s)}`):o.push(`${l}=${encodeURIComponent(s)}`)}),o.join("&")}const As=h.defineComponent({__name:"go-plaid-portal",props:{loader:Object,locals:Object,form:Object,visible:Boolean,afterLoaded:Function,portalName:String,autoReloadInterval:[String,Number]},setup(e){window.__goplaid=window.__goplaid??{},window.__goplaid.portals=window.__goplaid.portals??{};const t=h.ref(),r=e,n=h.shallowRef(null),o=h.ref(0),a=f=>{n.value=Ae(f,r.form,r.locals,t)},s=h.useSlots(),l=()=>{if(s.default){n.value=Ae('<slot :form="form" :locals="locals"></slot>',r.locals,t);return}const f=r.loader;f&&f.loadPortalBody(!0).form(r.form).go().then(y=>{y&&a(y.body)})};return h.onMounted(()=>{const f=r.portalName;f&&(window.__goplaid.portals[f]={updatePortalTemplate:a,reload:l}),l()}),h.onUpdated(()=>{if(r.autoReloadInterval&&o.value==0){const f=parseInt(r.autoReloadInterval+"");if(f==0)return;o.value=setInterval(()=>{l()},f)}o.value&&o.value>0&&r.autoReloadInterval==0&&(clearInterval(o.value),o.value=0)}),h.onBeforeUnmount(()=>{o.value&&o.value>0&&clearInterval(o.value)}),(f,y)=>e.visible?(h.openBlock(),h.createElementBlock("div",{key:0,class:"go-plaid-portal",ref_key:"portal",ref:t},[n.value?(h.openBlock(),h.createBlock(h.resolveDynamicComponent(n.value),{key:0},{default:h.withCtx(()=>[h.renderSlot(f.$slots,"default",{form:e.form,locals:e.locals})]),_:3})):h.createCommentVNode("",!0)],512)):h.createCommentVNode("",!0)}}),$s=h.defineComponent({__name:"go-plaid-run-script",props:{script:{type:Function,required:!0}},setup(e){const t=e;return h.onMounted(()=>{t.script()}),(r,n)=>null}}),Es=h.defineComponent({__name:"go-plaid-observer",props:{notificationName:{type:String,required:!0},handler:{type:Function,required:!0}},setup(e){const t=e,r=h.inject("vars");return h.onMounted(()=>{h.watch(()=>r==null?void 0:r.__notification,n=>{if(!n||(n==null?void 0:n.name)!==t.notificationName)return;let o;try{o=typeof n.payload=="string"?JSON.parse(n.payload):n.payload}catch{o=n.payload}try{t.handler({notificationName:t.notificationName,payload:o})}catch(a){console.error("Error executing observer script:",a)}})}),(n,o)=>h.renderSlot(n.$slots,"default")}});class Ts{constructor(){E(this,"_eventFuncID",{id:"__reload__"});E(this,"_url");E(this,"_method");E(this,"_vars");E(this,"_locals");E(this,"_loadPortalBody",!1);E(this,"_form",{});E(this,"_popstate");E(this,"_pushState");E(this,"_location");E(this,"_updateRootTemplate");E(this,"_buildPushStateResult");E(this,"parent");E(this,"ignoreErrors",["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"]);E(this,"isIgnoreError",t=>{var r;return t instanceof Error?(r=this.ignoreErrors)==null?void 0:r.includes(t.message):!1})}eventFunc(t){return this._eventFuncID.id=t,this}updateRootTemplate(t){return this._updateRootTemplate=t,this}eventFuncID(t){return this._eventFuncID=t,this}reload(){return this._eventFuncID.id="__reload__",this}url(t){return this._url=t,this}vars(t){return this._vars=t,this}loadPortalBody(t){return this._loadPortalBody=t,this}locals(t){return this._locals=t,this}calcValue(t){return typeof t=="function"?t(this):t}query(t,r){return this._location||(this._location={}),this._location.query||(this._location.query={}),this._location.query[t]=this.calcValue(r),this}mergeQuery(t){return this._location||(this._location={}),this._location.mergeQuery=t,this}clearMergeQuery(t){return this._location||(this._location={}),this._location.mergeQuery=!0,this._location.clearMergeQueryKeys=t,this}location(t){return this._location=t,this}stringQuery(t){return this._location||(this._location={}),this._location.stringQuery=this.calcValue(t),this}pushState(t){return this._pushState=this.calcValue(t),this}queries(t){return this._location||(this._location={}),this._location.query=t,this}pushStateURL(t){return this._location||(this._location={}),this._location.url=this.calcValue(t),this.pushState(!0),this}form(t){return this._form=t,this}fieldValue(t,r){if(!this._form)throw new Error("form not exist");return this._form[t]=this.calcValue(r),this}popstate(t){return this._popstate=t,this}run(t){return typeof t=="function"?t(this):new Function(t).apply(this),this}method(t){return this._method=t,this}buildFetchURL(){return this.ensurePushStateResult(),this._buildPushStateResult.eventURL}buildPushStateArgs(){return this.ensurePushStateResult(),this._buildPushStateResult.pushStateArgs}onpopstate(t){return t.state?this.popstate(!0).location(t.state).reload().go():Promise.reject("event state is undefined")}runPushState(){if(this._popstate!==!0&&this._pushState===!0){window.history.length<=2&&window.history.pushState({url:window.location.href},"",window.location.href);const t=this.buildPushStateArgs();t&&window.history.pushState(...t)}}go(){this._eventFuncID.id=="__reload__"&&(this._buildPushStateResult=null),this.runPushState();const t={method:"POST",redirect:"follow"};if(this._method&&(t.method=this._method),t.method==="POST"){const n=new FormData;Ot(this._form,n),t.body=n}window.dispatchEvent(new Event("fetchStart"));const r=this.buildFetchURL();return fetch(r,t).then(n=>n.redirected?(document.location.replace(n.url),{}):n.json()).then(n=>(n.runScript&&new Function("vars","locals","form","plaid",n.runScript).apply(this,[this._vars,this._locals,this._form,()=>{const o=$e().vars(this._vars).locals(this._locals).form(this._form).updateRootTemplate(this._updateRootTemplate);return o.parent=this,o}]),n)).then(n=>{if(n.pageTitle&&(document.title=n.pageTitle),n.redirectURL&&document.location.replace(n.redirectURL),n.reloadPortals&&n.reloadPortals.length>0)for(const o of n.reloadPortals){const a=window.__goplaid.portals[o];a&&a.reload()}if(n.updatePortals&&n.updatePortals.length>0)for(const o of n.updatePortals){const{updatePortalTemplate:a}=window.__goplaid.portals[o.name];a&&a(o.body)}return n.pushState?$e().updateRootTemplate(this._updateRootTemplate).reload().pushState(!0).location(n.pushState).go():(this._loadPortalBody&&n.body||n.body&&this._updateRootTemplate(n.body),n)}).catch(n=>{console.log(n),this.isIgnoreError(n)||alert("Unknown Error")}).finally(()=>{window.dispatchEvent(new Event("fetchEnd"))})}ensurePushStateResult(){if(this._buildPushStateResult)return;const t=window.location.href;this._buildPushStateResult=bs({...this._eventFuncID,location:this._location},this._url||t)}}function $e(){return new Ts}const Is={mounted:(e,t,r)=>{var y,_;let n=e;r.component&&(n=(_=(y=r.component)==null?void 0:y.proxy)==null?void 0:_.$el);const o=t.arg||"scroll",s=M.parse(location.hash)[o];let l="";Array.isArray(s)?l=s[0]||"":l=s||"";const f=l.split("_");f.length>=2&&(n.scrollTop=parseInt(f[0]),n.scrollLeft=parseInt(f[1])),n.addEventListener("scroll",ke(function(){const d=M.parse(location.hash);d[o]=n.scrollTop+"_"+n.scrollLeft,location.hash=M.stringify(d)},200))}},Fs={mounted:(e,t)=>{const[r,n]=t.value;Object.assign(r,n)}},Cs={mounted:(e,t,r)=>{t.value(e,t,r)}};/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var Rs=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ps=Object.prototype.hasOwnProperty;function Ee(e,t){return Ps.call(e,t)}function Te(e){if(Array.isArray(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);var n=[];for(var o in e)Ee(e,o)&&n.push(o);return n}function F(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Ie(e){for(var t=0,r=e.length,n;t<r;){if(n=e.charCodeAt(t),n>=48&&n<=57){t++;continue}return!1}return!0}function H(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function St(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Fe(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,r=e.length;t<r;t++)if(Fe(e[t]))return!0}else if(typeof e=="object"){for(var n=Te(e),o=n.length,a=0;a<o;a++)if(Fe(e[n[a]]))return!0}}return!1}function At(e,t){var r=[e];for(var n in t){var o=typeof t[n]=="object"?JSON.stringify(t[n],null,2):t[n];typeof o<"u"&&r.push(n+": "+o)}return r.join(`
`)}var $t=function(e){Rs(t,e);function t(r,n,o,a,s){var l=this.constructor,f=e.call(this,At(r,{name:n,index:o,operation:a,tree:s}))||this;return f.name=n,f.index=o,f.operation=a,f.tree=s,Object.setPrototypeOf(f,l.prototype),f.message=At(r,{name:n,index:o,operation:a,tree:s}),f}return t}(Error),w=$t,js=F,W={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var n=e[t];return delete e[t],{newDocument:r,removed:n}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:function(e,t,r){var n=he(r,this.path);n&&(n=F(n));var o=q(r,{op:"remove",path:this.from}).removed;return q(r,{op:"add",path:this.path,value:o}),{newDocument:r,removed:n}},copy:function(e,t,r){var n=he(r,this.from);return q(r,{op:"add",path:this.path,value:F(n)}),{newDocument:r}},test:function(e,t,r){return{newDocument:r,test:re(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}},Ds={add:function(e,t,r){return Ie(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){var n=e.splice(t,1);return{newDocument:r,removed:n[0]}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:W.move,copy:W.copy,test:W.test,_get:W._get};function he(e,t){if(t=="")return e;var r={op:"_get",path:t};return q(e,r),r.value}function q(e,t,r,n,o,a){if(r===void 0&&(r=!1),n===void 0&&(n=!0),o===void 0&&(o=!0),a===void 0&&(a=0),r&&(typeof r=="function"?r(t,0,e,t.path):pe(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=he(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=re(e,t.value),s.test===!1)throw new w("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(r)throw new w("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return s}}else{n||(e=F(e));var l=t.path||"",f=l.split("/"),y=e,_=1,d=f.length,g=void 0,v=void 0,A=void 0;for(typeof r=="function"?A=r:A=pe;;){if(v=f[_],v&&v.indexOf("~")!=-1&&(v=St(v)),o&&(v=="__proto__"||v=="prototype"&&_>0&&f[_-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&g===void 0&&(y[v]===void 0?g=f.slice(0,_).join("/"):_==d-1&&(g=t.path),g!==void 0&&A(t,0,e,g)),_++,Array.isArray(y)){if(v==="-")v=y.length;else{if(r&&!Ie(v))throw new w("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);Ie(v)&&(v=~~v)}if(_>=d){if(r&&t.op==="add"&&v>y.length)throw new w("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);var s=Ds[t.op].call(t,y,v,e);if(s.test===!1)throw new w("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return s}}else if(_>=d){var s=W[t.op].call(t,y,v,e);if(s.test===!1)throw new w("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return s}if(y=y[v],r&&_<d&&(!y||typeof y!="object"))throw new w("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}}function Ce(e,t,r,n,o){if(n===void 0&&(n=!0),o===void 0&&(o=!0),r&&!Array.isArray(t))throw new w("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(e=F(e));for(var a=new Array(t.length),s=0,l=t.length;s<l;s++)a[s]=q(e,t[s],r,!0,o,s),e=a[s].newDocument;return a.newDocument=e,a}function Ls(e,t,r){var n=q(e,t);if(n.test===!1)throw new w("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return n.newDocument}function pe(e,t,r,n){if(typeof e!="object"||e===null||Array.isArray(e))throw new w("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(W[e.op]){if(typeof e.path!="string")throw new w("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new w('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new w("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new w("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Fe(e.value))throw new w("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r){if(e.op=="add"){var o=e.path.split("/").length,a=n.split("/").length;if(o!==a+1&&o!==a)throw new w("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==n)throw new w("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},l=Et([s],r);if(l&&l.name==="OPERATION_PATH_UNRESOLVABLE")throw new w("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}}else throw new w("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r)}function Et(e,t,r){try{if(!Array.isArray(e))throw new w("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Ce(F(t),F(e),r||!0);else{r=r||pe;for(var n=0;n<e.length;n++)r(e[n],n,t,void 0)}}catch(o){if(o instanceof w)return o;throw o}}function re(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Array.isArray(e),n=Array.isArray(t),o,a,s;if(r&&n){if(a=e.length,a!=t.length)return!1;for(o=a;o--!==0;)if(!re(e[o],t[o]))return!1;return!0}if(r!=n)return!1;var l=Object.keys(e);if(a=l.length,a!==Object.keys(t).length)return!1;for(o=a;o--!==0;)if(!t.hasOwnProperty(l[o]))return!1;for(o=a;o--!==0;)if(s=l[o],!re(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const xs=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:w,_areEquals:re,applyOperation:q,applyPatch:Ce,applyReducer:Ls,deepClone:js,getValueByPointer:he,validate:Et,validator:pe},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var Re=new WeakMap,Ns=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),Ms=function(){function e(t,r){this.callback=t,this.observer=r}return e}();function Us(e){return Re.get(e)}function Hs(e,t){return e.observers.get(t)}function qs(e,t){e.observers.delete(t.callback)}function Bs(e,t){t.unobserve()}function Gs(e,t){var r=[],n,o=Us(e);if(!o)o=new Ns(e),Re.set(e,o);else{var a=Hs(o,t);n=a&&a.observer}if(n)return n;if(n={},o.value=F(e),t){n.callback=t,n.next=null;var s=function(){Pe(n)},l=function(){clearTimeout(n.next),n.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",l),window.addEventListener("keyup",l),window.addEventListener("mousedown",l),window.addEventListener("keydown",l),window.addEventListener("change",l))}return n.patches=r,n.object=e,n.unobserve=function(){Pe(n),clearTimeout(n.next),qs(o,n),typeof window<"u"&&(window.removeEventListener("mouseup",l),window.removeEventListener("keyup",l),window.removeEventListener("mousedown",l),window.removeEventListener("keydown",l),window.removeEventListener("change",l))},o.observers.set(t,new Ms(t,n)),n}function Pe(e,t){t===void 0&&(t=!1);var r=Re.get(e.object);je(r.value,e.object,e.patches,"",t),e.patches.length&&Ce(r.value,e.patches);var n=e.patches;return n.length>0&&(e.patches=[],e.callback&&e.callback(n)),n}function je(e,t,r,n,o){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var a=Te(t),s=Te(e),l=!1,f=s.length-1;f>=0;f--){var y=s[f],_=e[y];if(Ee(t,y)&&!(t[y]===void 0&&_!==void 0&&Array.isArray(t)===!1)){var d=t[y];typeof _=="object"&&_!=null&&typeof d=="object"&&d!=null&&Array.isArray(_)===Array.isArray(d)?je(_,d,r,n+"/"+H(y),o):_!==d&&(o&&r.push({op:"test",path:n+"/"+H(y),value:F(_)}),r.push({op:"replace",path:n+"/"+H(y),value:F(d)}))}else Array.isArray(e)===Array.isArray(t)?(o&&r.push({op:"test",path:n+"/"+H(y),value:F(_)}),r.push({op:"remove",path:n+"/"+H(y)}),l=!0):(o&&r.push({op:"test",path:n,value:e}),r.push({op:"replace",path:n,value:t}))}if(!(!l&&a.length==s.length))for(var f=0;f<a.length;f++){var y=a[f];!Ee(e,y)&&t[y]!==void 0&&r.push({op:"add",path:n+"/"+H(y),value:F(t[y])})}}}function ks(e,t,r){r===void 0&&(r=!1);var n=[];return je(e,t,n,"",r),n}const zs=Object.assign({},xs,Object.freeze(Object.defineProperty({__proto__:null,compare:ks,generate:Pe,observe:Gs,unobserve:Bs},Symbol.toStringTag,{value:"Module"})),{JsonPatchError:$t,deepClone:F,escapePathComponent:H,unescapePathComponent:St}),Js=h.defineComponent({props:{initialTemplate:{type:String,required:!0}},setup(e){const t=h.shallowRef(null),r=h.reactive({});h.provide("form",r);const n=l=>{t.value=Ae(l,r)};h.provide("updateRootTemplate",n);const o=h.reactive({__notification:{},__sendNotification:function(l,f){o.__notification={id:`notification-${Date.now()}-${Math.random().toString(36).slice(2,11)}`,name:l,payload:f}},__applyJsonPatch:zs.applyPatch,__encodeObjectToQuery:Ss}),a=()=>$e().updateRootTemplate(n).vars(o);h.provide("plaid",a),h.provide("vars",o);const s=h.ref(!1);return h.provide("isFetching",s),h.onMounted(()=>{n(e.initialTemplate),window.addEventListener("fetchStart",()=>{s.value=!0}),window.addEventListener("fetchEnd",()=>{s.value=!1}),window.addEventListener("popstate",l=>{l&&l.state!=null&&a().onpopstate(l)})}),{current:t}},template:`
      <div id="app" v-cloak>
        <component :is="current"></component>
      </div>
    `}),Ks={install(e){e.component("GoPlaidScope",Pr),e.component("GoPlaidPortal",As),e.component("GoPlaidRunScript",$s),e.component("GoPlaidObserver",Es),e.directive("keep-scroll",Is),e.directive("assign",Fs),e.directive("run",Cs),e.component("GlobalEvents",Dt)}};function Ys(e){const t=h.createApp(Js,{initialTemplate:e});return t.use(Ks),t}const Tt=document.getElementById("app");if(!Tt)throw new Error("#app required");const Qs={},It=Ys(Tt.innerHTML);for(const e of window.__goplaidVueComponentRegisters||[])e(It,Qs);It.mount("#app")});
